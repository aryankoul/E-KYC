{"version":3,"sources":["config/config.js","components/SnackBarNotification.js","components/AddUser.js","components/Type2Requests.js","components/VerifiedUsers.js","components/Loader.js","components/Verifier.js","components/VerifierOnBoard.js","components/Admin.js","components/NewUser.js","components/ExistingUser.js","components/updateUser.js","components/App.js","serviceWorker.js","index.js"],"names":["serverUrl","SnackBarNotification","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","open","_this2","react_default","a","createElement","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","toggle","message","action","Fragment","IconButton","size","aria-label","color","onClick","Close_default","fontSize","Component","forge","require","AddUser","console","log","account","kycContract","requests","name","phoneNumber","email","docType","publicKey","id","loaded","snackbarMessage","snackbarOpen","kycId","address","loading","buttonLoaded","handleChange","bind","assertThisInitialized","handleSubmit","handleReject","textInput","React","createRef","loadRequests","currentAddress","fetch","mode","then","res","json","setState","x","loadComponent","_this3","requestOptions","method","body","JSON","stringify","_id","headers","Accept","Content-Type","data","documentType","docId","_this4","removeUser","success","event","target","value","defineProperty","md","sha256","create","update","digest","rawData","priKey","localStorage","getItem","privateKey","pki","privateKeyFromPem","sha1","signature","sign","util","encode64","timestamp","Date","getTime","calculateHash","toHex","fileName","preventDefault","window","blob","Blob","type","fileOfBlob","File","FormData","append","response","Hash","emailHash","uploadFile","cid","userId","flag","makeUserId","hash","signUserData","current","methods","getVerifier","bankName","_this5","getPublicKey","key","pkey","publicKeyFromPem","plaintextBytesCid","encodeUtf8","encryptedCid","encrypt","encCid","addUser","send","from","gas","plaintextBytes","encrypted","qrData","encryptedData","text","reqOptions","originalData","verifierAddress","userPublicKey","options","newData","getVerifiersList","err","verifiers","verifiersList","eCid","i","length","push","completedKyc","temp","rOptions","_this6","Grid","item","xs","style","textAlign","className","uploaded","map","request","Card","maxWidth","marginBottom","CardContent","Phone_default","marginRight","Email_default","Home_default","Button","variant","component","handleDownload","handleVerify","FormControl","width","TextField","required","label","placeholder","disabled","onChange","ref","startIcon","Check_default","backgroundColor","Save_default","CircularProgress","position","left","top","components_SnackBarNotification","val","Type2Requests","letters","otp","len","Math","floor","random","objectSpread","parse","e","userPubKey","getUserSignature","getVerifierPublicKeyForUser","verifierPublicKey","generateOtp","req","align","AccountBox_default","handleClick","marginTop","VerifiedUsers","users","showLoader","panelNum","mail","loadUsers","prevProps","loadedAddUser","getCustomersList","customersList","split","user","expanded","getUserDetails","time","toLocaleString","concat","Key","getCidForUser","decryptedCid","decode64","decrypt","getDataFromIpfs","updatedUsers","sendMail","ExpansionPanel","handlePanelChange","paddingBottom","minHeight","paddingTop","ExpansionPanelSummary","expandIcon","ExpandMore_default","aria-controls","Typography","PermIdentity_default","ExpansionPanelDetails","justifyContent","Contacts_default","AssignmentInd_default","Description_default","Loader","progress","tick","timer","setInterval","clearInterval","Verifier","loadedType2User","loadedVerifiedUser","hidden","show","AppBar","elevation","Tabs","centered","Tab","display","container","spacing","role","alignContent","justify","components_AddUser","accounts","components_Type2Requests","components_VerifiedUsers","components_Loader","VerifierOnBoard","displayDownload","generateKeys","pubKey","rsa","generateKeyPair","bits","workers","keypair","publicKeyPem","publicKeyToPem","privateKeyPem","privateKeyToPem","setItem","_data","pri","pub","element","document","file","href","URL","createObjectURL","replace","download","click","parentNode","removeChild","location","reload","addVerifier","minWidth","margin","Tooltip","title","placement","interactive","Fab","GetApp_default","Admin","unverifiedVerifiers","verifiedVerifiers","handleAdd","getVerfiers","getUnverifiedVerifiers","unverifiedVerifier","verifierDetails","verifier","toConsumableArray","getVerifiedVerifiers","loadAdminData","verifiedVerifier","verifyVerifier","result","marginLeft","AccountBalance_default","Business_default","NewUser","doc","files","phoneNo","userName","privateKeyUser","publicKeyUser","clear","InputLabel","htmlFor","Select","native","inputProps","inputRef","CloudUpload_default","ExistingUSer","onFileChange","selectedFile","snackbarMeassage","requestId","userData","loadingOtp","buttonLoadedOtp","verified","getVerifiers","formdata","uploadMessage","_this$state","decodedOtp","finalOtp","otpMessage","verifyOtp","Clear_default","Icon","UpdateUser","App","handleFile","content","keys","handleLogin","fileData","FileReader","onloadend","readAsText","getComponent","loadedAdmin","height","components_Admin","verifierLoaded","components_Verifier","loadedExistingUser","loadedNewUser","components_NewUser","updateUser","ExistingUser","components_VerifierOnBoard","loadBlockchainData","array","j","undefined","calculateShare","share","parseInt","toString","costShare","web3","Web3","providers","HttpProvider","process","INFURA_API_KEY","eth","Contract","kyc","abi","ethereum","enable","catch","error","web32","getAccounts","acc","handleBalances","on","identifyAddress","toNumber","overflow","Container","bottom","right","accept","VpnKey_default","handleLogout","Lock_default","Boolean","hostname","match","ReactDOM","render","src_components_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5df95b93.chunk.js","sourcesContent":["export const providerUrl = \"https://ropsten.infura.io/v3/6e2e0a8ec20744f79c4e6d22a9621610\";\nexport const serverUrl =\"https://afternoon-waters-13024.herokuapp.com/\";\nexport const contractNetworkPort =3;\nexport const ipfsPublish = \"https://ipfs.infura.io:5001/api/v0/add\";\nexport const ipfsGet = \"https://ipfs.infura.io:5001/api/v0/cat?arg=\"\n","import React, { Component } from 'react'\nimport { Snackbar, IconButton } from '@material-ui/core'\nimport CloseIcon from '@material-ui/icons/Close';\n\nclass SnackBarNotification extends Component {\n\n    constructor(props){\n        super(props)\n\n        this.state = {\n            open: false\n        }\n    }\n\n \n\n    render() {\n    return(\n        <Snackbar\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'left',\n        }}\n        open={this.props.open}\n        autoHideDuration={6000}\n        onClose={() => this.props.toggle(false)}\n        message={this.props.message}\n        action={\n          <React.Fragment>\n              <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={() => this.props.toggle(false)}>\n              <CloseIcon fontSize=\"small\" />\n            </IconButton>\n          </React.Fragment>\n        }\n      />\n    )\n\n\n\n    }\n\n\n}\n\nexport default SnackBarNotification;\n","import React, { Component } from 'react'\nimport { TextField } from '@material-ui/core';\nimport { FormControl } from '@material-ui/core';\nimport { Button } from '@material-ui/core';\nimport Grid from '@material-ui/core/Grid';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport PhoneIcon from '@material-ui/icons/Phone';\nimport EmailIcon from '@material-ui/icons/Email';\nimport HomeIcon from '@material-ui/icons/Home';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport CheckIcon from '@material-ui/icons/Check';\nimport SaveIcon from '@material-ui/icons/Save';\n\nimport SnackBarNotification from './SnackBarNotification';\nimport { serverUrl } from '../config/config'\nimport {ipfsPublish} from '../config/config'\nvar forge = require('node-forge');\n\n\nclass AddUser extends Component {\n\n  constructor(props) {\n    console.log(props.account)\n    console.log(props.kycContract)\n    super(props)\n    this.state = {\n      requests : [],\n      name : \"\",\n      phoneNumber: \"\",\n      email:\"\",\n      docType:\"\",\n      publicKey:\"\",\n      id:\"\",\n      loaded : false,\n      snackbarMessage: '',\n      snackbarOpen: false,\n      kycId: \"\",\n      address:\"\",\n      loading:false,\n      buttonLoaded:false\n    }\n    this.handleChange = this.handleChange.bind(this)\n    this.handleSubmit = this.handleSubmit.bind(this)\n    this.handleReject = this.handleReject.bind(this)\n    this.textInput = React.createRef();\n  } \n\n  componentDidMount() {\n    this.loadRequests();\n  }\n\n  loadRequests(){\n    const currentAddress = this.props.account[0]\n    fetch(serverUrl+\"getPendingRequest?verifierAddress=\"+currentAddress+\"&type=13\", {mode: 'cors'}).then(res => {\n      return res.json()\n    }).then(res=>{\n      // console.log(res.requests);\n      return res.requests;\n    }).then(requests => {\n      this.setState({\n        requests : requests,\n        loaded : true\n      },x=>{console.log(this.state)})\n      this.props.loadComponent(true)\n    })\n\n  }\n\n  removeUser(){\n\n    console.log(this.state.id);\n\n    const requestOptions = {\n      method: 'POST',\n      body: JSON.stringify({\n        _id: this.state.id\n      }),\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n     }\n    };\n    fetch(serverUrl+\"request/delete\",requestOptions)\n    .then(res=>{return res.json()}).then(\n      data => {\n        console.log(data);\n        this.props.loadComponent(false)\n        this.setState({\n          requests : [],\n          name : \"\",\n          phoneNumber: \"\",\n          email:\"\",\n          documentType:\"\",\n          publicKey:\"\",\n          id:\"\",\n          docId : \"\",\n          loaded : false,\n          kycId: \"\",\n          address:\"\"\n        },x=>{this.loadRequests()})\n      }\n    )\n  }\n\n  handleReject(id, email){\n    console.log(id)\n      this.setState({ id: id },(x) => {\n    console.log(this.state.id)\n    this.removeUser()\n     const requestOptions = {\n      method: 'POST',\n      body: JSON.stringify({\n        email: email,\n        data: 'Your KYC request was rejected by bank. Please try again.'\n      }),\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n     }\n    };\n    fetch(serverUrl+'sendMail',requestOptions)\n              .then(res => res.json())\n              .then(data => {\n                if(data.success === true){\n                   this.setState({snackbarOpen: true, snackbarMessage:'Kyc request rejected'})\n                }\n              })\n      })\n\n  }\n\n\n  handleChange(event) {\n    const target = event.target\n    const value = target.value\n    const name = target.name\n\n    this.setState({\n      [name]: value\n    })\n  }\n\n  calculateHash(phoneNumber){\n    var md = forge.md.sha256.create();\n    md.update(phoneNumber);\n    return md.digest();\n  }\n\n  signUserData(address, rawData){ \n    console.log(rawData)\n      var priKey = localStorage.getItem('privateKey' + address[0]);\n      var privateKey = forge.pki.privateKeyFromPem(priKey);\n      console.log(privateKey)\n      var md = forge.md.sha1.create();\n      md.update(rawData, 'utf8');\n      var signature = privateKey.sign(md);\n      signature = forge.util.encode64(signature)\n      console.log(signature)\n      return signature;\n  } \n  \n  makeUserId(rawData){\n    var date = new Date();\n    var timestamp =  date.getTime();\n    const userId = this.calculateHash(rawData+timestamp).toHex();\n    return userId;\n  }\n\n  handleDownload(event,fileName){\n    event.preventDefault();\n    console.log(fileName);\n    window.open(serverUrl+'download/'+fileName, '_blank');\n  }\n\n  handleVerify(event,name,phoneNumber,email,publicKey,id,docType, kycId,address){\n    event.preventDefault();\n    this.setState({\n      name:name,\n      phoneNumber:phoneNumber,\n      email:email,\n      id:id,\n      publicKey:publicKey,\n      docType:docType,\n      kycId: kycId,\n      address:address,\n      buttonLoaded:false,\n    })\n  }\n\n  async uploadFile (rawData) {\n    const blob = new Blob([rawData], {type: 'text/plain;charset=utf-8'})\n    var fileOfBlob = new File([blob], 'aFileName.txt');\n    let data = new FormData();\n    data.append('file', fileOfBlob);\n    const requestOptions = {\n      method: 'POST',\n      body: data\n    }\n    let response = await fetch(ipfsPublish, requestOptions);\n    let res = await response.json();\n    return res.Hash;\n  }\n\n  async handleSubmit (event) {\n\n    event.preventDefault();\n    this.setState({loading:true})\n    var emailHash = this.calculateHash(this.state.email).toHex();\n    console.log(emailHash)\n   \n    const data = {\n      \"name\": this.state.name,\n      \"phoneNumber\": this.state.phoneNumber,\n      \"email\": this.state.email,\n      \"docType\": this.state.docType,\n      \"docId\" : this.state.docId,\n      \"address\" : this.state.address\n    }\n\n    const rawData = JSON.stringify(data); \n    console.log(rawData)\n    var cid = await this.uploadFile(rawData);\n    console.log(cid)\n    var userId=\"\",flag=false,mode=1;\n    if(this.state.kycId!==\"\" && this.state.kycId!=null){\n      userId=this.state.kycId\n      flag=true\n      mode=3;\n    }\n    else{\n      userId = this.makeUserId(rawData)\n      console.log(\"hi\")\n    }\n    console.log(userId)\n    const hash = emailHash\n    console.log(hash)\n    \n    const signature = this.signUserData(this.props.account,cid);\n    console.log(signature)\n    console.log(this.props.account[0])\n    console.log(this.textInput.current)\n    this.textInput.current.value = \"\"\n    const address = this.props.account[0];\n    this.props.kycContract.methods.getVerifier(address).call().then((bankName) => {\n      this.props.kycContract.methods.getPublicKey(this.props.account[0]).call()\n      .then((key)=>{\n        console.log(this.state.publicKey);\n        var pkey = forge.pki.publicKeyFromPem(this.state.publicKey)\n        var plaintextBytesCid = forge.util.encodeUtf8(cid);\n        var encryptedCid = pkey.encrypt(plaintextBytesCid)\n        encryptedCid = forge.util.encode64(encryptedCid)\n        var verifierPublicKey = forge.pki.publicKeyFromPem(key)\n        var encCid = verifierPublicKey.encrypt(cid)\n        encCid=forge.util.encode64(encCid)\n        this.props.kycContract.methods.addUser(userId, signature, hash, encCid, this.props.account[0],this.props.account[0],mode,6).send({ from: this.props.account[0], gas: 6721975})\n        var plaintextBytes = forge.util.encodeUtf8(rawData);\n        var encrypted = pkey.encrypt(plaintextBytes)\n        encrypted = forge.util.encode64(encrypted)\n\n        var qrData={\n          encryptedData:encryptedCid,\n          publicKey:this.state.publicKey,\n          userId:userId,\n          email:this.state.email,\n        }\n        qrData=JSON.stringify(qrData);\n        console.log(qrData)\n        console.log(this.state)\n        const requestOptions = {\n          method: 'POST',\n          body: JSON.stringify({\n            email: this.state.email,\n            data:qrData,\n            userId:userId,\n            bankName: bankName,\n            name: this.state.name\n          }),\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        }\n        };\n        fetch(serverUrl+\"mailQR\",requestOptions)\n      .then(res => console.log(res.text()));\n      }).then(x=>{\n        const reqOptions= {\n          method: 'POST',\n          body: JSON.stringify({\n            originalData: rawData,\n            verifierAddress:this.props.account[0],\n            userId:userId,\n            userPublicKey:this.state.publicKey\n          }),\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        }};\n        console.log(reqOptions)\n\n        fetch(serverUrl+\"verify\",reqOptions)\n        .then(res => res.json())\n        .then(data => {\n          this.setState({\n            snackbarMessage: data.message,\n            snackbarOpen: true,\n            loading:false,\n            buttonLoaded:true,\n            name:'', phoneNumber:'', email:'', docType:'', docId:'',address:\"\"\n          },x=>{this.removeUser()})\n        })\n\n        if(flag===true){\n          const options= {\n            method: 'POST',\n            body: JSON.stringify({\n              newData: rawData,\n              userId:userId,\n            }),\n            headers: {\n              'Accept': 'application/json',\n              'Content-Type': 'application/json'\n          }};\n          fetch(serverUrl+\"updateKyc\",options)\n                .then(res => res.json())\n                .then(data => {\n                this.setState({\n                    snackbarMessage: data.message,\n                    snackbarOpen: true,\n                    loading:false,\n                    buttonLoaded:true\n                })\n                this.props.loadComponent(false)\n                })\n          console.log(x);\n              this.props.kycContract.methods.getVerifiersList(userId).call({},(err, res)=>{\n                  var verifiers = res;\n                  console.log(verifiers)\n                const options= {\n                  method: 'POST',\n                  body: JSON.stringify({\n                    verifiersList: verifiers,\n                  }),\n                  headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                }};\n              fetch(serverUrl+\"publicKeyArray\",options)\n              .then((res) => res.json())\n              .then((res)=>{\n                console.log(res)\n                  var eCid=[]\n                  var data = res.data;\n                for(var i=0;i<data.length;i++){\n                  var pkey=forge.pki.publicKeyFromPem(data[i].publicKey)\n                  var encCid = pkey.encrypt(cid)\n                  encCid = forge.util.encode64(encCid)\n                  eCid.push(encCid);\n                }\n                console.log(encCid)\n              var completedKyc =[];\n              for(var i=0;i<eCid.length;i++){\n                var temp = {\n                  verifierAddress:data[i].verifierAddress,\n                  encryptedCid : eCid[i],\n                  mode:3,\n                  userId:userId\n                }\n                if(data[i].verifierAddress != this.props.account[0]){\n                  completedKyc.push(temp)\n                }\n              }\n              // this.props.kycContract.methods.updateCid(data[i].verifierAddress,userId,eCid[i]).send({from:this.props.account[0],gas:6721975})\n              console.log(completedKyc)\n              const rOptions= {\n                method: 'POST',\n                body: JSON.stringify({\n                  completedKyc: completedKyc,\n                }),\n                headers: {\n                  'Accept': 'application/json',\n                  'Content-Type': 'application/json'\n              }};\n              fetch(serverUrl+'pushCompletedKyc',rOptions)\n              })\n              })\n            \n        }\n        \n          console.log(x);\n      });\n    });\n  }\n\n  render() {\n    return (\n     [\n        <Grid item xs={6} style={{textAlign:\"center\"}}>\n          <div className='requests'>\n            {\n              this.state.loaded === true ? (\n                this.props.uploaded === true ? (\n                  <div>\n                  {\n                    this.state.requests.length > 0 ? (\n                      <div style={{textAlign:\"-webkit-center\"}}>\n                        {\n                          this.state.requests.map((request,key)=>{\n                            return(\n                              <Card style={{maxWidth:\"70%\",marginBottom:\"18px\"}} key={request._id}>\n                                <CardContent>\n                                  <h2  style={{marginBottom:\"10px\"}}>{request.name}</h2>\n                                  <h5><PhoneIcon style={{marginRight:\"7px\"}}/>{request.phoneNumber}</h5>\n                                  <h5><EmailIcon style={{marginRight:\"7px\"}}/>{request.email}</h5>\n                                  <h5><HomeIcon style={{marginRight:\"7px\",marginBottom:\"15px\"}}/>{request.address}</h5>\n                                  <Button variant=\"contained\" color=\"primary\" component=\"span\" onClick={(event)=>{this.handleDownload(event,request.fileName)}}  style={{marginRight:\"12px\"}}>Download File</Button>\n                                  <Button variant=\"contained\" color=\"primary\" component=\"span\" onClick={(event)=>{this.handleVerify(event,request.name,request.phoneNumber,request.email,request.publicKey,request._id, request.docType, request.userId,request.address)}} style={{marginRight: \"12px\"}}>Verify</Button>\n                                  <Button variant=\"contained\" color=\"primary\" component=\"span\" onClick={(event)=>{this.handleReject(request._id, request.email)}}>Reject</Button>\n                                </CardContent>\n                              </Card>\n                            )\n                          })\n                        }\n                      </div>) : (<div style={{textAlign:'center'}}>No pending first time user requets :)</div>)\n                  }\n                </div>\n                ) : (<div style={{textAlign:'center'}}>Login to view pending requests</div>)\n              ) : (<div>Not loaded</div>)\n            }\n          </div>\n        </Grid>,\n        <Grid item xs={6} style={{textAlign:\"center\"}} >\n          <FormControl style={{width:\"60%\"}}>\n            <TextField\n            required\n            id=\"outlined-required\"\n            variant=\"outlined\"\n            name=\"name\"\n            type=\"text\"\n            label=\"Name\"\n            placeholder = \"name\"\n            value = {this.state.name}\n            style={{marginBottom:\"15px\"}}\n            disabled={this.state.loading}\n            onClick={(event)=>{this.state.buttonLoaded ? (this.setState({buttonLoaded:false})) : (console.log(\"click\"))}}\n            />\n            <TextField\n            required\n            id=\"outlined-required\"\n            variant=\"outlined\"\n            label=\"Phone Number\"\n            name=\"phoneNumber\"\n            type=\"text\"\n            placeholder = \"Phone number\"\n            value = {this.state.phoneNumber}\n            style={{marginBottom:\"15px\"}}\n            disabled={this.state.loading}\n            onClick={(event)=>{this.state.buttonLoaded ? (this.setState({buttonLoaded:false})) : (console.log(\"click\"))}}\n            />\n            <TextField\n            required\n            id=\"outlined-required\"\n            variant=\"outlined\"\n            label=\"Email Address\"\n            name=\"email\"\n            type=\"text\"\n            placeholder = \"email\"\n            value = {this.state.email}\n            style={{marginBottom:\"15px\"}}\n            disabled={this.state.loading}\n            onClick={(event)=>{this.state.buttonLoaded ? (this.setState({buttonLoaded:false})) : (console.log(\"click\"))}}\n            />\n            <TextField\n            required\n            id=\"outlined-required\"\n            variant=\"outlined\"\n            label=\"Address\"\n            name=\"address\"\n            type=\"text\"\n            placeholder = \"Address\"\n            value = {this.state.address}\n            style={{marginBottom:\"15px\"}}\n            disabled={this.state.loading}\n            onClick={(event)=>{this.state.buttonLoaded ? (this.setState({buttonLoaded:false})) : (console.log(\"click\"))}}\n            />\n            <TextField\n            required\n            id=\"outlined-required\"\n            variant=\"outlined\"\n            label=\"Document Type\"\n            name=\"docType\"\n            type=\"text\"\n            placeholder = \"document Type\"\n            value = {this.state.docType}\n            style={{marginBottom:\"15px\"}}\n            disabled={this.state.loading}\n            onClick={(event)=>{this.state.buttonLoaded ? (this.setState({buttonLoaded:false})) : (console.log(\"click\"))}}\n            />\n            <TextField\n            required\n            id=\"outlined-required\"\n            variant=\"outlined\"\n            label=\"Document IDs\"\n            name=\"docId\"\n            type=\"text\"\n            placeholder = \"document ID\"\n            onChange={this.handleChange}\n            ref = {this.textInput} \n            value = {this.state.docId}\n            style={{marginBottom:\"15px\"}}\n            disabled={this.state.loading}\n            onClick={(event)=>{this.state.buttonLoaded ? (this.setState({buttonLoaded:false})) : (console.log(\"click\"))}}\n            />\n            {\n              this.state.buttonLoaded ? (\n                <Button variant=\"contained\" startIcon={<CheckIcon />} color=\"primary\" component=\"span\" onClick = {(event)=>{this.handleSubmit(event)}} style={{backgroundColor:\"#02b205\"}} disabled={!this.props.uploaded || this.state.loading}>{this.state.snackbarMessage}</Button>\n              ) : (\n                <Button variant=\"contained\" startIcon={<SaveIcon />} color=\"primary\" component=\"span\" onClick = {(event)=>{this.handleSubmit(event)}} disabled={!this.props.uploaded || this.state.loading}>Submit</Button>\n              )\n            }\n          {this.state.loading && <CircularProgress size={24} style={{color:\"#02b205\",position: 'absolute',left: '50%',top:\"93.5%\"}} />}\n          </FormControl>\n  \n          {\n            this.state.buttonLoaded ? (<></>) : (\n          <SnackBarNotification message={this.state.snackbarMessage} open={this.state.snackbarOpen} toggle = {(val) => this.setState({snackbarOpen: val})} />\n            )\n          }\n        </Grid>\n      ]\n    );\n  }\n}\n\nexport default AddUser;\n","import React, { Component } from 'react'\nimport { Button } from '@material-ui/core';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport AccountBoxIcon from '@material-ui/icons/AccountBox';\nimport EmailIcon from '@material-ui/icons/Email';\n\nimport SnackBarNotification from './SnackBarNotification';\nimport { serverUrl } from '../config/config'\n\n\nclass Type2Requests extends Component {\n\n    constructor(props){\n        super(props)\n        console.log(props.kycContract);\n        console.log(props.account);\n        this.state={\n            loaded : false,\n            requests : [],\n            snackbarOpen: false,\n            snackbarMessage: ''\n        }\n    }\n\n    componentDidMount(){\n        this.loadRequests();\n    }\n\n    generateOtp() {\n        var letters = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ'\n        let otp = ''\n        const len = letters.length\n        for(let i = 0; i < 10; i++) {\n            otp += letters[Math.floor(Math.random() * len)]\n        }\n        return otp\n    }\n\n    loadRequests(){\n        const currentAddress = this.props.account[0]\n        fetch(serverUrl+\"getPendingRequest?verifierAddress=\"+currentAddress+\"&type=2\", {mode: 'cors'}).then(res => {\n            return res.json()\n        }).then(res=>{\n            console.log(res.requests);\n            return res.requests;\n        }).then(requests => {\n            requests = requests.map((request,key)=>{\n                return(\n                    {\n                        ...request,\n                        qrData : JSON.parse(request.qrData)\n                    }\n                    \n                )\n            })\n            this.setState({\n            requests : requests,\n            loaded : true\n            },x=>{console.log(this.state)})\n            this.props.loadComponent(true)\n        })\n    \n    }\n\n    handleClick(e,id,userPubKey,email,_id, encryptedData){\n        e.preventDefault();\n        console.log(id)\n        this.props.kycContract.methods.getUserSignature(id).call().then(signature => {\n            this.setState({signature:signature})\n            this.props.kycContract.methods.getVerifierPublicKeyForUser(id).call().then(key=>{\n                var verifierPublicKey = key;\n                var signature = this.state.signature;\n                var otp = this.generateOtp();\n                var verifierAddress = this.props.account[0];\n                var userId = id;\n                var userPublicKey = userPubKey;\n                this.props.kycContract.methods.getVerifier(verifierAddress).call().then((bankName) => {\n                    console.log(otp, verifierAddress, userId, userPublicKey, verifierPublicKey, signature, email);\n                    const reqOptions= {\n                        method: 'POST',\n                        body: JSON.stringify({\n                            otp, verifierAddress, userId, userPublicKey, verifierPublicKey, signature, email, _id, encryptedData, bankName\n                        }),\n                        headers: {\n                          'Accept': 'application/json',\n                          'Content-Type': 'application/json'\n                      }};\n                      fetch(serverUrl+\"initiateVerification\",reqOptions)\n                    .then(req => req.json())\n                    .then(data => {\n                        this.setState({\n                            snackbarMessage: data.message,\n                            snackbarOpen: true\n                        })\n                        this.loadRequests()\n                    })\n                })\n            })\n        })\n    }\n\n    render(){\n        return(\n            <div style={{align:\"center\"}}>\n            <br/>\n            <h2 style={{textAlign:\"center\"}}>Users previously registered with other banks</h2>\n            <br/>\n            {\n                this.state.loaded === true ? (\n                    this.props.uploaded === true ? (\n                        <div>\n                        {\n                            this.state.requests.length > 0 ? (\n                                this.state.requests.map((request,key)=>{\n                                    return(\n                                    <Card style={{marginBottom:\"22px\"}} key={key}>\n                                        <CardContent>\n                                            <h6><AccountBoxIcon style={{marginRight:\"7px\"}}/>{request.userId}</h6>\n                                            <h5><EmailIcon style={{marginRight:\"7px\"}}/>{request.qrData.email}</h5>\n                                            <Button variant=\"contained\" color=\"primary\" component=\"span\" \n                                            onClick={(e)=>this.handleClick(e,request.userId,request.qrData.publicKey,request.qrData.email, request._id, request.qrData.encryptedData)}\n                                            style={{marginTop:\"5px\"}}>Send OTP\n                                            </Button>\n                                        </CardContent>\n                                    </Card>\n                                    )\n                                })  \n                            ) : (\n                                <div style={{textAlign:'center'}}>No pending requests :)</div>\n                            )\n                        }\n                            <SnackBarNotification open={this.state.snackbarOpen} message={this.state.snackbarMessage} toggle={(val) => this.setState({snackbarOpen: val})} />\n                        </div>\n                    ) : (<div style={{textAlign:'center'}}>Login to view the pending requests</div>)\n                ) : (\n                    <div>Not loaded</div>\n                )\n            }\n            </div>\n        );\n    }\n}\n\nexport default Type2Requests;\n","import React, { Component } from 'react'\nimport PhoneIcon from '@material-ui/icons/Phone';\nimport EmailIcon from '@material-ui/icons/Email';\nimport HomeIcon from '@material-ui/icons/Home';\nimport PermIdentityIcon from '@material-ui/icons/PermIdentity';\nimport ContactsIcon from '@material-ui/icons/Contacts';\nimport AssignmentIndIcon from '@material-ui/icons/AssignmentInd';\nimport DescriptionIcon from '@material-ui/icons/Description';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport SnackBarNotification from './SnackBarNotification';\n\nimport { serverUrl } from '../config/config'\nimport { ipfsGet } from '../config/config'\nconst forge = require('node-forge');\n\n\nclass VerifiedUsers extends Component {\n\n    constructor(props){\n        super(props)\n        console.log(props.kycContract);\n        console.log(props.account);\n        this.state={\n            loaded : false,\n            users : [],\n            showLoader:true,\n            snackbarOpen:false,\n            panelNum : -1,\n            mail:\"\"\n        }\n    }\n    \n    componentDidMount(){\n        this.loadUsers();\n    }\n\n    componentDidUpdate(prevProps){\n        if(this.props.loadedAddUser !== prevProps.loadedAddUser)\n            this.loadUsers();\n    }\n    \n    \n    loadUsers(){\n        console.log(this.props.account[0])\n        this.props.kycContract.methods.getCustomersList(this.props.account[0]).call({}, (err, customersList) => {\n            // console.log(customersList)\n            if(customersList!==\"\")\n            {\n                const customerArray = customersList.split(\"#\")\n                const users = customerArray.map((user,key)=>{\n                    return(\n                        {\n                            id : user,\n                            loaded : false\n                        }\n                        )\n                    });\n                    this.setState({\n                        users : users,\n                        loaded : true\n                    },x=>{console.log(this.state)})\n                    this.props.loadComponent(true)\n            }\n            else{\n                this.setState({loaded:true})\n                this.props.loadComponent(true)\n            }\n        });      \n    }\n    \n\n    handlePanelChange(event,expanded,userId,key){\n        console.log(key)\n        if(expanded===true)\n        {\n            this.setState({panelNum:key})\n            const user = this.state.users[key]\n            console.log(user);\n            if(this.state.users[key].loaded===true)\n            {\n                this.setState({showLoader:false})\n            }\n            else\n            {\n                this.setState({showLoader:true})\n                this.getUserDetails(userId,key);\n            }\n        }\n        else{\n            this.setState({\n                panelNum:-1,\n                showLoader:true\n            })\n        }\n    }\n\n    sendMail(email){\n\n        const address = this.props.account[0];\n        this.props.kycContract.methods.getVerifier(address).call({}, (err,bankName) => {\n            const time = new Date().toLocaleString();\n            const requestOptions = {\n                method: 'POST',\n                body: JSON.stringify({\n                  email: email,\n                  data:`Your data was accessed by ${bankName} at ${time}`\n                }),\n                headers: {\n                  'Accept': 'application/json',\n                  'Content-Type': 'application/json'\n               }\n            };\n            fetch(serverUrl+\"sendMail\",requestOptions)\n            .then(res => {\n                console.log(res.text())\n                this.setState({showLoader:false,snackbarOpen:true})\n            });\n        });\n    }\n\n\n    getUserDetails(userId,Key){\n        this.props.kycContract.methods.getCidForUser(userId,this.props.account[0]).call({},(err,cid)=>{\n            if(!err)\n            {\n                console.log(cid)\n                let privateKey = localStorage.getItem('privateKey'+this.props.account[0]);\n                privateKey = forge.pki.privateKeyFromPem(privateKey);\n                let decryptedCid = \"\";\n                try{\n                    cid= forge.util.decode64(cid)\n                    decryptedCid = privateKey.decrypt(cid);\n                    console.log(decryptedCid)\n                    this.getDataFromIpfs(decryptedCid).then(data=>{\n                        console.log(data);\n                        const updatedUsers = this.state.users.map((user,key)=>{\n                            if(key===Key)\n                            {\n                                return{\n                                    loaded:true,\n                                    id:user.id,\n                                    name:data.name,\n                                    phoneNumber:data.phoneNumber,\n                                    email:data.email,\n                                    address:data.address,\n                                    docId:data.docId,\n                                    docType:data.docType\n                                }\n                            }\n                            else\n                            return user\n                        })\n                        console.log(updatedUsers);\n                        \n                        this.setState({\n                            users:updatedUsers,\n                            mail:data.email\n                        },this.sendMail(data.email))\n                    })\n                }catch(e){\n                console.log(e)\n                }\n            }\n            else\n                console.log(err)\n        })\n    }\n\n\n    getDataFromIpfs(cid){\n        return fetch(ipfsGet+cid).then((res)=>res.json())\n    }\n\n    \n    render(){\n        return(\n            <div style={{width:\"100%\",textAlign:\"center\"}}>\n            <br/>\n            <h2>Fully Verified Users</h2>\n            <br/><br/>\n            {\n                this.state.loaded === true ? (\n                    this.props.uploaded === true ? (\n                        <div style={{textAlign:\"-webkit-center\",width:\"100%\"}}>\n                            {\n                                this.state.users.length > 0 ? (\n                                   \n                                            this.state.users.map((user,key)=>{\n                                                return(\n                                                    <ExpansionPanel key={key} expanded={this.state.panelNum===key} onChange={(event,expanded)=>this.handlePanelChange(event,expanded,user.id,key)} style={{marginBottom:\"30px\",backgroundColor:\"#3f51b5\",paddingBottom:\"2%\",minHeight:\"60px\",maxWidth:\"80%\",paddingTop:\"1%\"}}>\n                                                        <ExpansionPanelSummary expandIcon={<ExpandMoreIcon style={{color:\"white\"}}/>} aria-controls=\"panel1a-content\" id=\"panel1a-header\">\n                                                            <Typography style={{color:\"white\"}}><PermIdentityIcon style={{marginRight:\"15px\"}}/>{user.id}</Typography>\n                                                        </ExpansionPanelSummary>\n                                                        {\n                                                            this.state.showLoader ? (\n                                                                <ExpansionPanelDetails style={{justifyContent:\"center\"}}>\n                                                                    <CircularProgress color=\"secondary\"/>\n                                                                </ExpansionPanelDetails>\n                                                            ) : (\n                                                                <ExpansionPanelDetails style={{textAlign:\"left\"}}>\n                                                                    <Card style={{width:\"100%\"}}>\n                                                                        <CardContent>\n                                                                            <Typography style={{fontSize:\"1.1rem\"}}><ContactsIcon style={{marginRight:\"15px\"}}/>{user.name}</Typography>\n                                                                            <Typography style={{fontSize:\"1.1rem\"}}><PhoneIcon style={{marginRight:\"15px\"}}/>{user.phoneNumber}</Typography>\n                                                                            <Typography style={{fontSize:\"1.1rem\"}}><EmailIcon style={{marginRight:\"15px\"}}/>{user.email}</Typography>\n                                                                            <Typography style={{fontSize:\"1.1rem\"}}><HomeIcon style={{marginRight:\"15px\"}}/>{user.address}</Typography>\n                                                                            <Typography style={{fontSize:\"1.1rem\"}}><AssignmentIndIcon style={{marginRight:\"15px\"}}/>{user.docId}</Typography>\n                                                                            <Typography style={{fontSize:\"1.1rem\"}}><DescriptionIcon style={{marginRight:\"15px\"}}/>{user.docType}</Typography>\n                                                                        </CardContent>\n                                                                    </Card>\n                                                                </ExpansionPanelDetails>\n                                                            )\n                                                        }\n                                                    </ExpansionPanel>\n                                                )\n                                            })\n                                       \n                                ) : (\n                                    <div style={{textAlign:'center'}}>No User :)</div>\n                                )\n                            }\n                        </div>\n                    ) : (<div style={{textAlign:'center'}}>Login to view the users</div>)\n                ) : (\n                    <div>Not loaded</div>\n                )\n            }\n                <SnackBarNotification open={this.state.snackbarOpen} message={\"email has been sent to \"+this.state.mail} toggle={(val) => this.setState({snackbarOpen: val})} />\n            </div>\n        );\n    }\n}\n\nexport default VerifiedUsers;","import React, { Component } from 'react'\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nclass Loader extends Component {\n\n    constructor(props){\n        super(props);\n        this.state={\n            progress : 0\n        }\n        this.tick = this.tick.bind(this)\n    }\n\n    timer;\n\n    tick(){\n        this.state.progress >=100 ? (this.setState({progress:0})) : (this.setState({progress:this.state.progress+1}))\n    }\n\n    componentDidMount(){\n        this.timer = setInterval(this.tick,20);\n    }\n\n    componentWillUnmount(){\n        clearInterval(this.timer);\n    }\n\n    render(){\n        return(\n            <div>\n                <CircularProgress variant=\"determinate\" value={this.state.progress} color=\"secondary\" size={100}/>\n            </div>\n        )\n    }\n\n}\n\nexport default Loader;","import React, { Component } from 'react'\nimport { Tab,Tabs,AppBar } from '@material-ui/core';\nimport Grid from '@material-ui/core/Grid';\nimport AddUser from './AddUser.js'\nimport Type2Requests from './Type2Requests.js'\nimport VerfiedUsers from './VerifiedUsers.js'\nimport Loader from './Loader.js'\n\nclass Verifier extends Component {\n  \n  constructor(props) {\n    super(props)\n    console.log(props);\n    this.state={\n      value : 0,\n      loadedAddUser:false,\n      loadedType2User:false,\n      loadedVerifiedUser:false\n    }\n  } \n\n  handleChange(e,value){\n    this.setState({\n      value:value\n    })\n  }\n\n  show(){\n    return (this.state.loadedAddUser && this.state.loadedType2User && this.state.loadedVerifiedUser)\n  }\n\n  render() {\n    return (\n      <>\n      <div hidden={!this.show()}>\n        <AppBar position=\"static\" elevation={0}>\n          <Tabs value={this.state.value} onChange={(e,value)=>this.handleChange(e,value)} centered>\n            <Tab label=\"Add User\" />\n            <Tab label=\"View Verification Requests\" />\n            <Tab label=\"Veiw Verified Users\"/>\n          </Tabs>\n        </AppBar>\n        <div style={{backgroundColor:\"white\",display:\"flex\",justifyContent:\"center\",minHeight:\"100vh\",width:\"100%\"}}>\n        <Grid container spacing={3} role=\"tabpanel\" alignContent=\"center\" justify=\"center\" hidden={this.state.value !== 0}>\n        <AddUser kycContract = {this.props.kycContract} account = {this.props.accounts} uploaded={this.props.uploaded} loadComponent={(val)=>this.setState({loadedAddUser:val})}/>\n        </Grid>\n        <br/>\n        <div\n          role=\"tabpanel\"\n          hidden={this.state.value !== 1}\n        ><div className=\"type2requets\"><Type2Requests kycContract = {this.props.kycContract} account = {this.props.accounts} uploaded={this.props.uploaded} loadComponent={(val)=>this.setState({loadedType2User:val})}/> </div></div>\n        <div\n          role=\"tabpanel\"\n          hidden={this.state.value !== 2}\n          style={{width:\"100%\"}}\n        >\n        <VerfiedUsers kycContract = {this.props.kycContract} account = {this.props.accounts} loadedAddUser={this.state.loadedAddUser} uploaded={this.props.uploaded} loadComponent={(val)=>this.setState({loadedVerifiedUser:val})}/>  </div>\n        <br/></div>\n      </div>\n      <div style={{position:\"fixed\",top:\"40%\",left:\"45%\"}} hidden={this.show()}>\n        <Loader />\n      </div>\n      </>\n    );\n  }\n}\n\nexport default Verifier;\n","import React, { Component } from 'react'\nimport { TextField } from '@material-ui/core';\nimport { Button } from '@material-ui/core';\nimport GetAppIcon from '@material-ui/icons/GetApp';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Fab from '@material-ui/core/Fab';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport CheckIcon from '@material-ui/icons/Check';\nimport SaveIcon from '@material-ui/icons/Save';\nimport SnackBarNotification from './SnackBarNotification';\nimport {serverUrl} from '../config/config'\n\nconst forge = require('node-forge');\n\nclass VerifierOnBoard extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      publicKey : '',\n      privateKey : '',\n      snackbarOpen: false,\n      snackbarMessage: '',\n      bankName: '',\n      displayDownload : false,\n      loading:false,\n      buttonLoaded:false\n    }\n  } \n\n  componentDidMount(){\n    this.generateKeys();\n  }\n\n  handleChange(event) {\n    const target = event.target\n    const value = target.value\n    const name = target.name\n    console.log(name, value)\n\n    this.setState({\n      [name]: value\n    })\n  }\n\n  generateKeys(){\n    const address = this.props.account[0];\n    const pubKey = localStorage.getItem(\"publicKey\"+address), priKey = localStorage.getItem(\"privateKey\"+address);\n    if((pubKey === null || pubKey === \"\") && (priKey === null || priKey === \"\")){\n      forge.pki.rsa.generateKeyPair({bits: 2048, workers: 2}, function(err, keypair) {\n        // keypair.privateKey, keypair.publicKey\n        const publicKey = keypair.publicKey;\n        const privateKey = keypair.privateKey;\n        console.log(publicKey);\n        console.log(privateKey);\n\n        const publicKeyPem = forge.pki.publicKeyToPem(publicKey);\n        const privateKeyPem = forge.pki.privateKeyToPem(privateKey);\n\n        localStorage.setItem(\"publicKey\"+address,publicKeyPem);\n        localStorage.setItem(\"privateKey\"+address,privateKeyPem);\n\n    });\n    }\n\n  }\n\n  handleDownload(event){\n    event.preventDefault();\n\n    const address = this.props.account[0];\n    const privateKey = localStorage.getItem(\"privateKey\"+address)\n    const publicKey = localStorage.getItem(\"publicKey\"+address)\n\n    const pri = \"privateKey\"+address;\n    const pub = \"publicKey\"+address;\n    const data = {\n        [pri]: privateKey,\n        [pub]: publicKey\n    }\n\n    const rawData = JSON.stringify(data)\n    console.log(rawData)\n    const element = document.createElement('a')\n    const file = new Blob([rawData], {type: 'text/plain;charset=utf-8'})\n\n    element.href =  URL.createObjectURL(file)\n    const name = this.state.name.replace(/ /g, \"\")\n    element.download = `KycKeys-${name}.txt`\n    document.body.append(element)\n    element.click()\n    element.parentNode.removeChild(element)\n\n    this.setState({\n      displayDownload:false,\n      buttonLoaded:false\n    })\n    window.location.reload();\n\n  }\n\n\n  handleSubmit(event) {\n    event.preventDefault()\n    this.setState({loading:true})\n    const [bankName] = [this.state.bankName]\n    const account = this.props.account[0];\n    const publicKey = localStorage.getItem('publicKey'+account)\n    const kycContract = this.props.kycContract\n    console.log(bankName);\n    console.log(this.props.kycContract);\n      kycContract.methods.addVerifier(bankName,account,publicKey).send({ from: account, gas: 672195 }, (err,res) => {\n        if(err) console.log(err);\n      })\n    this.setState({\n        snackbarMessage: 'Verifier request Initiated',\n        snackbarOpen: true,\n        displayDownload:true,\n        loading:false,\n        buttonLoaded:true,\n        bankName: ''\n    })\n    const requestOptions = {\n      method: 'POST',\n      body: JSON.stringify({\n        verifierAddress: account,\n        publicKey:publicKey\n      }),\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n     }\n    };\n    fetch(serverUrl+'publicKey', requestOptions);\n    event.preventDefault()\n    this.setState({name:this.state.bankName})\n  }\n\n  render() {\n    return (\n      <div style={{textAlign:\"center\",minWidth:\"80%\"}}>\n      <h3  style={{margin: \"5%\"}}>VerifierOnBoard</h3>\n      <form>\n        <TextField\n          required\n          id=\"bankName\"\n          name = \"bankName\"\n          type = \"text\"\n          label=\"Bank Name\"\n          onChange={(event)=>{this.handleChange(event)}}  \n          variant=\"outlined\"\n          value = {this.state.bankName}\n          style={{ margin: \"5%\", width: \"100%\"}}\n          disabled={this.state.loading}\n          onClick={(event)=>{this.state.buttonLoaded ? (this.setState({buttonLoaded:false})) : (console.log(\"click\"))}}\n          />\n          <br/>\n          <Tooltip title=\"Please download the Kyc Key file after submitting this form\" placement=\"bottom\" interactive>\n          {\n            this.state.buttonLoaded ? (\n              <Button variant=\"contained\" startIcon={<CheckIcon />} color=\"primary\" component=\"span\" onClick = {(event)=>{this.handleSubmit(event)}} disabled={this.state.displayDownload || this.state.loading} style={{ margin: \"5%\", width: \"100%\",backgroundColor:\"#02b205\"}}>{this.state.snackbarMessage}</Button>\n            ) : (\n              <Button variant=\"contained\" startIcon={<SaveIcon />} color=\"primary\" component=\"span\" onClick = {(event)=>{this.handleSubmit(event)}} disabled={this.state.displayDownload || this.state.loading} style={{ margin: \"5%\", width: \"100%\"}}>Submit</Button>\n            )\n          }\n          </Tooltip>\n          {this.state.loading && <CircularProgress size={24} style={{color:\"#02b205\",position: 'absolute',left: '50%',top:\"33%\"}} />}\n          <br/><div hidden={!this.state.displayDownload}>\n            <Tooltip title=\"Download KycKeys file\" placement=\"bottom\" interactive>\n              <Fab color=\"secondary\" aria-label=\"add\" onClick={e=>{this.handleDownload(e)}}>\n                <GetAppIcon />\n              </Fab>\n            </Tooltip>\n          </div>\n         <SnackBarNotification open={this.state.snackbarOpen} message={\"Please download the Kyc Key File\"} toggle={(val) => this.setState({snackbarOpen: val})} />\n      </form>\n      </div>\n    );\n  }\n}\n\nexport default VerifierOnBoard;\n","import React, { Component } from 'react'\nimport { Button } from '@material-ui/core';\nimport AccountBalance from '@material-ui/icons/AccountBalance';\nimport BusinessIcon from '@material-ui/icons/Business';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Grid from '@material-ui/core/Grid';\n\nimport SnackBarNotification from './SnackBarNotification';\n\n\nclass Admin extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = { \n        unverifiedVerifiers: [],\n        verifiedVerifiers:[],\n        snackbarMessage: '',\n        snackbarOpen: false,\n        loaded : false\n    }\n    this.handleAdd = this.handleAdd.bind(this)\n    console.log(this.props.kycContract)\n  } \n\n  componentDidMount() {\n    this.getVerfiers();\n  }\n\n  async loadAdminData() {\n    this.props.kycContract.methods.getUnverifiedVerifiers().call({}, (err, unverifiedVerifiers) => {\n      console.log(unverifiedVerifiers)\n      if(unverifiedVerifiers == null || unverifiedVerifiers.length === 0){\n        this.props.loadComponent(true)\n      }\n        unverifiedVerifiers.map((unverifiedVerifier, key) => {\n          this.props.kycContract.methods.getVerifier(unverifiedVerifier).call({}, (err,verifierDetails) => {\n            const verifier = {bankName: verifierDetails, address: unverifiedVerifier}\n            this.setState({unverifiedVerifiers:[...this.state.unverifiedVerifiers,verifier]})\n            console.log(unverifiedVerifier)\n            this.props.loadComponent(true)\n          });\n        })\n    })\n  }\n\n  getVerfiers(){\n    this.props.kycContract.methods.getVerifiedVerifiers().call({}, (err, verifiedVerifiers) => {\n      console.log(verifiedVerifiers)\n      if (verifiedVerifiers !== null && verifiedVerifiers.length !== 0){\n      this.loadAdminData();\n      verifiedVerifiers.map((verifiedVerifier, key) => {\n        this.props.kycContract.methods.getVerifier(verifiedVerifier).call({}, (err,verifierDetails) => {\n          const verifier = {bankName: verifierDetails, address: verifiedVerifier}\n          this.setState({verifiedVerifiers:[...this.state.verifiedVerifiers,verifier]})\n        });\n      })\n    }\n    else{\n      this.loadAdminData();\n    }\n  }) \n  }\n\n  handleAdd(event, key) {\n    console.log(this.state.unverifiedVerifier)\n    const target = event.target\n    console.log(target)\n    console.log(key)\n    const address = this.state.unverifiedVerifiers[key].address\n    console.log(this.props.kycContract);\n    this.props.kycContract.methods.verifyVerifier(address).send({from: this.props.account[0], gas: 672195}, (err, result) => {\n      if(err){\n        this.setState({\n            snackbarMessage: 'Could not verify user',\n            snackbarOpen: true,\n        })\n      }\n      else{\n        console.log(result)\n        this.setState({\n            snackbarMessage: 'Verifier verified successfully',\n            snackbarOpen: true\n        })\n      }\n      this.setState({unverifiedVerifiers: [],verifiedVerifiers:[]},x=>{this.getVerfiers()})\n      this.props.loadComponent(false)\n    })\n  }\n\n\n  render() {\n    return (\n      <div >\n        <Grid container>\n          <Grid item xs={6} style={{textAlign:\"center\"}}>\n          <br/><br/>\n          <h2 style={{textAlign:\"center\"}}>Unverified Verifiers</h2>\n          <br/><br/>\n          {\n              this.state.unverifiedVerifiers.length === 0 ? (\n              <div style={{textAlign:\"center\"}}>No pending requests :)</div>\n              ) : (\n                this.state.unverifiedVerifiers.map((verifier,key) => {\n                  return(\n                    <Card style={{marginBottom:\"28px\",minWidth:\"70%\",marginLeft:\"4%\",marginRight:\"2%\"}} key={key}>\n                      <CardContent>\n                        <h5><AccountBalance style={{marginRight:\"7px\"}}/>{verifier.bankName}</h5>\n                        <h5><BusinessIcon style={{marginRight:\"7px\"}}/>{verifier.address}</h5>\n                        <Button variant=\"contained\" color=\"primary\" component=\"span\" id={key} onClick={(event)=>{this.handleAdd(event, key)}} style={{marginTop:\"5px\"}}>Verify</Button>\n                      </CardContent>\n                    </Card>\n                  )\n                })\n              )\n            }\n          </Grid>\n          <Grid item xs={6} style={{textAlign:\"center\"}}>\n          <br/><br/>\n          <h2 style={{textAlign:\"center\"}}>Verified Verifiers</h2>\n          <br/><br/>\n          {\n              this.state.verifiedVerifiers.length === 0 ? (\n              <div style={{textAlign:\"center\"}}>No Verifiers to display</div>\n              ) : (\n                this.state.verifiedVerifiers.map((verifier,key) => {\n                  return(\n                    <Card style={{marginBottom:\"35px\",minWidth:\"70%\",marginRight:\"4%\",marginLeft:\"2%\"}} key={key}>\n                      <CardContent>\n                        <h5><AccountBalance style={{marginRight:\"7px\"}}/>{verifier.bankName}</h5>\n                        <h5><BusinessIcon style={{marginRight:\"7px\"}}/>{verifier.address}</h5>\n                      </CardContent>\n                    </Card>\n                  )\n                })\n              )\n            }\n          </Grid>\n            \n            <SnackBarNotification message={this.state.snackbarMessage} open={this.state.snackbarOpen} toggle = {(val) => this.setState({snackbarOpen: val})} />\n        </Grid>\n      </div>\n    );\n  }\n} \n\n\nexport default Admin;\n","import React, { Component } from 'react';\nimport { TextField } from '@material-ui/core';\nimport { FormControl } from '@material-ui/core';\nimport { Button } from '@material-ui/core';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport Loader from './Loader.js'\nimport SaveIcon from '@material-ui/icons/Save';\nimport GetAppIcon from '@material-ui/icons/GetApp';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Fab from '@material-ui/core/Fab';\nimport SnackBarNotification from './SnackBarNotification';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport CheckIcon from '@material-ui/icons/Check';\nimport { serverUrl } from '../config/config'\n\nconst forge = require('node-forge');\n\nclass NewUser extends Component{\n\n  constructor(props){\n    console.log(\"hi\")\n    super(props)\n    this.state = {\n      verifiedVerifiers : [],\n      verifierAddress : '',\n      loaded : false,\n      snackbarMessage: '',\n      snackbarOpen: false,\n      displayDownload : false,\n      loading:false,\n      buttonLoaded:false\n    }\n  }\n\n  componentDidMount() {\n    this.getVerfiers();\n    this.generateKeys();\n  }\n\n  generateKeys(){\n    const pubKey = localStorage.getItem(\"publicKeyUser\");\n    const priKey = localStorage.getItem(\"privateKeyUser\");\n    if((pubKey === null || pubKey === \"\") && (priKey === null || priKey === \"\")){\n      forge.pki.rsa.generateKeyPair({bits: 2048, workers: 2}, function(err, keypair) {\n        // keypair.privateKey, keypair.publicKey\n        const publicKey = keypair.publicKey;\n        const privateKey = keypair.privateKey;\n        console.log(publicKey);\n        console.log(privateKey);\n\n        const publicKeyPem = forge.pki.publicKeyToPem(publicKey);\n        const privateKeyPem = forge.pki.privateKeyToPem(privateKey);\n\n        localStorage.setItem(\"publicKeyUser\",publicKeyPem);\n        localStorage.setItem(\"privateKeyUser\",privateKeyPem);\n\n    });\n    }\n  }\n\n  handleSubmit(event) {\n    event.preventDefault()\n    this.setState({loading:true})\n    console.log(this.state.verifierAddress);\n    console.log(this.doc.files[0])\n    let data = new FormData();\n    data.append('phoneNumber', this.phoneNo.value);\n    data.append('address',this.address.value)\n    data.append('email', this.email.value);\n    data.append('name', this.name.value);\n    data.append('docType', this.docType.value);\n    data.append('verifierAddress', this.state.verifierAddress);\n    data.append('publicKey', localStorage.getItem(\"publicKeyUser\"));\n    data.append('type',\"1\");\n    data.append('doc', this.doc.files[0]);\n    const requestOptions = {\n      method: 'POST',\n      body: data\n    }\n    fetch(serverUrl+'uploadDocument', requestOptions)\n    .then(res => res.json())\n          .then(data  => {\n        this.setState({\n            snackbarMessage: data.message, \n            snackbarOpen: true,\n            displayDownload:true,\n            loading:false,\n            buttonLoaded:true\n        })\n        this.phoneNo.value='';\n        this.email.value='';\n        this.docType.value='';\n        this.setState({verifierAddress:'',userName:this.name.value});\n        this.doc.files=null;\n        this.name.value='';\n        this.address.value=''\n    });\n    \n  }\n\n  handleChange(event) {\n    const target = event.target\n    const value = target.value\n    const name = target.name\n\n    this.setState({\n      [name]: value\n    })\n  }\n\n  handleDownload(event){\n    event.preventDefault();\n\n    const privateKey = localStorage.getItem(\"privateKeyUser\")\n    const publicKey = localStorage.getItem(\"publicKeyUser\")\n    const data = {\n        'privateKeyUser': privateKey,\n        'publicKeyUser': publicKey\n    }\n\n    const rawData = JSON.stringify(data)\n    console.log(rawData)\n    const element = document.createElement('a')\n    const file = new Blob([rawData], {type: 'text/plain;charset=utf-8'})\n\n    element.href =  URL.createObjectURL(file)\n    const name = this.state.userName.replace(/ /g, \"\")\n    element.download = `KycKeys-${name}.txt`\n    document.body.append(element)\n    element.click()\n    element.parentNode.removeChild(element)\n\n    this.setState({\n      displayDownload:false,\n      buttonLoaded:false\n    })\n    localStorage.clear()\n\n  }\n\n  getVerfiers(){\n    this.props.kycContract.methods.getVerifiedVerifiers().call({}, (err, verifiedVerifiers) => {\n      console.log(verifiedVerifiers)\n      if (verifiedVerifiers !== null && verifiedVerifiers.length !== 0){\n      verifiedVerifiers.map((verifiedVerifier, key) => {\n        this.props.kycContract.methods.getVerifier(verifiedVerifier).call({}, (err,verifierDetails) => {\n          const verifier = {bankName: verifierDetails, address: verifiedVerifier}\n          this.setState({verifiedVerifiers:[...this.state.verifiedVerifiers,verifier]})\n          \n        });\n      })\n    }\n    this.props.loadComponent(true)\n    this.setState({loaded:true})\n  }) \n  }\n\n  render() {\n    return (\n      <div>\n      {\n        this.state.loaded === true ? (\n        <div>\n        <h3  style={{margin: \"2%\"}}>New User</h3>\n        <br/>\n        <FormControl>\n          <FormControl variant=\"outlined\" style={{ margin: \"2%\", width: \"80%\"}}\n          disabled={this.state.loading}\n          onClick={(event)=>{this.state.buttonLoaded ? (this.setState({buttonLoaded:false})) : (console.log(\"click\"))}}\n          >\n            <InputLabel htmlFor=\"filled-age-native-simple\">Select Bank</InputLabel>\n            <Select\n            native\n            value={this.state.verifierAddress}\n            onChange={(event)=>this.handleChange(event)}\n            label=\"Select Bank\"\n            inputProps={{\n              name: 'verifierAddress',\n              id: 'filled-age-native-simple',\n            }}\n            >\n            <option aria-label=\"None\" value=\"\" />\n            {\n              this.state.verifiedVerifiers.map((verifier,key) => {\n              return(\n                  <option value={verifier.address} key={key}>{verifier.bankName}</option>\n              )\n              })\n            }\n            </Select>\n          </FormControl>\n          <div>\n          <TextField\n          required\n          id=\"outlined-required\"\n          name = \"name\"\n          type = \"text\"\n          label=\"Name\"\n          inputRef = {(name) => this.name = name} \n          variant=\"outlined\"\n          style={{ margin: \"2%\", width: \"80%\" }}\n          disabled={this.state.loading}\n          onClick={(event)=>{this.state.buttonLoaded ? (this.setState({buttonLoaded:false})) : (console.log(\"click\"))}}\n          />\n          <TextField\n          required\n          id=\"outlined-required\"\n          name = \"email\"\n          type = \"text\"\n          label=\"Email\"\n          inputRef = {(email) => this.email = email} \n          variant=\"outlined\"\n          style={{ margin: \"2%\",  width: \"80%\"}}\n          disabled={this.state.loading}\n          onClick={(event)=>{this.state.buttonLoaded ? (this.setState({buttonLoaded:false})) : (console.log(\"click\"))}}\n          />\n          </div>\n\n          <div>\n          <TextField\n          required\n          id=\"outlined-required\"\n          name = \"phoneNo\"\n          type = \"text\"\n          label=\"Phone Number\"\n          inputRef = {(phoneNo) => this.phoneNo = phoneNo}  \n          variant=\"outlined\"\n          style={{ margin: \"2%\",  width: \"80%\"}}\n          disabled={this.state.loading}\n          onClick={(event)=>{this.state.buttonLoaded ? (this.setState({buttonLoaded:false})) : (console.log(\"click\"))}}\n          />\n          <TextField\n          required\n          id=\"outlined-required\"\n          name = \"address\"\n          type = \"text\"\n          label=\"Address\"\n          inputRef = {(address) => this.address = address}  \n          variant=\"outlined\"\n          style={{ margin: \"2%\",  width: \"80%\"}}\n          disabled={this.state.loading}\n          onClick={(event)=>{this.state.buttonLoaded ? (this.setState({buttonLoaded:false})) : (console.log(\"click\"))}}\n          />\n          <TextField\n          required\n          id=\"outlined-required\"\n          name = \"docType\"\n          type = \"text\"\n          label=\"Document Type\"\n          inputRef = {(docType) => this.docType = docType}   \n          variant=\"outlined\"\n          style={{ margin: \"2%\",  width: \"80%\"}}\n          disabled={this.state.loading}\n          onClick={(event)=>{this.state.buttonLoaded ? (this.setState({buttonLoaded:false})) : (console.log(\"click\"))}}\n          />\n          </div>\n\n          <div>\n          \n          <input style={{display: 'none'}} type=\"file\" name=\"doc\" ref = {(doc) => this.doc = doc} placeholder=\"KYC DOCUMENT\" id=\"contained-button-file\"/>\n          <label htmlFor=\"contained-button-file\" style={{ margin: \"2%\", width: \"80%\"}}>\n          <Button variant=\"contained\" color=\"primary\" component=\"span\" startIcon={<CloudUploadIcon />} style={{width: \"100%\"}} disabled={this.props.uploaded || this.state.displayDownload || this.state.loading}\n          onClick={(event)=>{this.state.buttonLoaded ? (this.setState({buttonLoaded:false})) : (console.log(\"click\"))}}\n          >\n            Upload Doccument\n          </Button>\n          </label>\n          <br/>\n          <Tooltip title=\"Please download the Kyc Key file after submitting this form\" placement=\"bottom\" interactive>\n          {\n            this.state.buttonLoaded ? (\n            <Button variant=\"contained\" startIcon={<CheckIcon />} color=\"primary\" component=\"span\" onClick = {(event)=>{this.handleSubmit(event)}} style={{ margin: \"2%\", width:\"80%\",backgroundColor:\"#02b205\"}} disabled={this.props.uploaded || this.state.displayDownload || this.state.loading}>{this.state.snackbarMessage}</Button>\n            ) :  (\n            <Button variant=\"contained\" startIcon={<SaveIcon />} color=\"primary\" component=\"span\" onClick = {(event)=>{this.handleSubmit(event)}} style={{ margin: \"2%\", width:\"80%\"}} disabled={this.props.uploaded || this.state.displayDownload || this.state.loading}>Submit</Button>\n            )\n          }\n          </Tooltip>\n          {this.state.loading && <CircularProgress size={24} style={{color:\"#02b205\",position: 'absolute',left: '40%',marginTop:\"3.5%\"}} />}\n          <div hidden={!this.state.displayDownload}>\n            <Tooltip title=\"Download KycKeys-User.txt\" placement=\"top\" interactive>\n              <Fab size=\"medium\" color=\"secondary\" aria-label=\"add\" onClick={e=>{this.handleDownload(e)}}>\n                <GetAppIcon />\n              </Fab>\n            </Tooltip>\n          </div>\n          </div>\n        </FormControl>\n        </div>\n        ) : (\n          <div style={{position:\"fixed\",top:\"40%\",left:\"45%\"}}>\n            <Loader />\n          </div>\n          )\n      }\n          <SnackBarNotification open={this.state.snackbarOpen} message={\"Please download the kyc key file\"} toggle={(val) => this.setState({snackbarOpen: val})} />\n      </div>\n      \n    );\n  }\n}\n\nexport default NewUser;\n","import React, { Component } from 'react'\nimport { TextField, Button, Icon } from '@material-ui/core';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport SaveIcon from '@material-ui/icons/Save';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport FormControl from '@material-ui/core/FormControl';\nimport Grid from '@material-ui/core/Grid';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport CheckIcon from '@material-ui/icons/Check';\nimport SnackBarNotification from './SnackBarNotification';\nimport Loader from './Loader.js'\nimport ClearIcon from '@material-ui/icons/Clear';\n\nimport { serverUrl } from '../config/config'\nconst forge = require('node-forge');\n\nclass ExistingUSer extends Component{\n\n    constructor(props){\n        super(props)\n        console.log(props);\n        this.state = {\n          verifiedVerifiers : [],\n          verifierAddress : '',\n          loaded : false,\n          selectedFile: null,\n          snackbarMeassage: '',\n          snackbarOpen: false,\n          userId: '',\n          requestId: '',\n          otp: '',\n          userData: '',\n          loading:false,\n          buttonLoaded:false,\n          loadingOtp:false,\n          buttonLoadedOtp:false,\n          verified:false\n        }\n    }\n\n    componentDidMount() {\n      this.getVerifiers()\n    }\n\n    getVerifiers(){\n      this.props.kycContract.methods.getVerifiedVerifiers().call({}, (err, verifiedVerifiers) => {\n          console.log(verifiedVerifiers);\n          if (verifiedVerifiers !== null && verifiedVerifiers.length !== 0){\n          verifiedVerifiers.map((verifiedVerifier, key) => {\n          this.props.kycContract.methods.getVerifier(verifiedVerifier).call({}, (err,verifierDetails) => {\n              const verifier = {bankName: verifierDetails, address: verifiedVerifier}\n              this.setState({verifiedVerifiers:[...this.state.verifiedVerifiers,verifier]})\n              this.setState({loaded:true})\n              this.props.loadComponent(true)\n          });\n          })\n          }else{\n            this.props.loadComponent(true)\n            this.setState({loaded:true})\n          }\n    }) \n  }\n\n    handleSubmit(event) {\n      event.preventDefault()\n      this.setState({loading:true})\n      console.log(this.state.verifierAddress);\n      console.log(this.state);\n      \n\t    var formdata = new FormData();\n      var files = this.doc;\n      console.log(files.files[0])\n      formdata.append('verifierAddress',this.state.verifierAddress);\n      formdata.append('type',2);\n      // formdata.append('userId', this.state.userId);\n      formdata.append('doc', files.files[0]);\n      var requestOptions = {\n          method: 'POST',\n          body: formdata,\n      };\n      fetch(serverUrl+'uploadDocument', requestOptions)\n      .then(res => res.json())\n            .then(data => {\n          this.setState({\n              snackbarMessage: data.message,\n              snackbarOpen: true,\n              loading:false,\n              buttonLoaded:true,\n              uploadMessage : data.message,\n              userId: '', \n              verifierAddress: '',\n          })\n      });\n      this.setState({})\n    }\n\n    onFileChange = event => {\n        console.log(event.target.files[0])\n        this.setState({ selectedFile: event.target.files[0] }); \n    }; \n\n    handleChange(event) {\n    const target = event.target\n    const value = target.value\n    const name = target.name\n\n    this.setState({\n      [name]: value\n    })\n  }\n\n\n  verifyOtp(event){\n    event.preventDefault();\n    this.setState({loadingOtp:true})\n    var { requestId, otp, userData } = this.state;\n    const decodedOtp = forge.util.decode64(otp);\n    userData = forge.util.decode64(userData);\n    let privateKey = localStorage.getItem('privateKeyUser');\n    privateKey = forge.pki.privateKeyFromPem(privateKey);\n    var finalOtp =''\n    try{\n      finalOtp = privateKey.decrypt(decodedOtp)\n    }catch(e){\n      this.setState({\n          snackbarMessage: 'error decrypting otp',\n          snackbarOpen: true,\n          loadingOtp:false,\n          buttonLoadedOtp:true,\n          otpMessage : 'error decrypting otp'\n      })\n      console.log(\"error decrypting otp\")\n      return\n    }\n\n    try{\n      userData = privateKey.decrypt(userData)\n      console.log(userData)\n      // const email = userData.JSON().email;\n      // console.log(email);\n    }catch(e){\n        this.setState({\n            snackbarMessage: 'error decrypting user data',\n            snackbarOpen: true,\n            loadingOtp:false,\n            buttonLoadedOtp:true,\n            otpMessage: 'error decrypting user data'\n        })\n      console.log(\"error decrypting user data\")\n      return\n    }\n    const requestOptions = {\n      method: 'POST',\n      body: JSON.stringify({\n        _id: requestId,\n        otp: finalOtp,\n        originalData: userData,\n      }),\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n     }\n    };\n    fetch(serverUrl+\"verifyOtp\",requestOptions)\n    .then(res=> res.json()).then(\n      data => {\n          this.setState({\n              snackbarMessage: data.message, \n              snackbarOpen: true,\n              loadingOtp:false,\n              buttonLoadedOtp:true,\n              otpMessage:data.message,\n              verified:true\n          })\n        console.log(data);\n        this.setState({\n          requestId: '',\n          otp: '',\n          userData: '',\n          userId: '',\n          verifierAddress: ''\n        })\n      }\n    )\n  }\n\n\n    render(){\n        return(\n            <div>\n            {\n              this.state.loaded === true ? (\n                <Grid container spacing={3}>\n                  <Grid item xs = {6}>\n                  <h3 style={{margin: \"2%\"}}>Existing User</h3>\n                  <br/>\n                  <form>\n                    <FormControl variant=\"outlined\" style={{ margin: \"2%\",  width: \"80%\"}}\n                    disabled={this.state.loading} onClick={(event)=>{this.state.buttonLoaded ? (this.setState({buttonLoaded:false})) : (console.log(\"click\"))}}\n                    >\n                      <InputLabel htmlFor=\"filled-age-native-simple\">Select Bank</InputLabel>\n                      <Select\n                      native\n                      value={this.state.verifierAddress}\n                      onChange={(event)=>this.handleChange(event)}\n                      label=\"Select Bank\"\n                      inputProps={{\n                        name: 'verifierAddress',\n                        id: 'filled-age-native-simple',\n                      }}\n                      >\n                      <option aria-label=\"None\" value=\"\" />\n                      {\n                        this.state.verifiedVerifiers.map((verifier,key) => {\n                        return(\n                            <option value={verifier.address} key={key}>{verifier.bankName}</option>\n                        )\n                        })\n                      }\n                      </Select>\n                    </FormControl>\n\n                    <br/>\n  \n                    <input style={{display: 'none', margin: \"2%\"}} type=\"file\" name=\"upload QR code\" ref = {(doc) => this.doc = doc} onChange={this.onFileChange} placeholder=\"QR code\" id=\"contained-button-qr\"/>\n                    <label htmlFor=\"contained-button-qr\" style={{ margin: \"2%\", width: \"80%\"}}>\n                    <Button variant=\"contained\" color=\"primary\" component=\"span\" startIcon={<CloudUploadIcon />} style={{ width: \"100%\"}} disabled={!this.props.uploaded || this.state.loading}\n                    onClick={(event)=>{this.state.buttonLoaded ? (this.setState({buttonLoaded:false})) : (console.log(\"click\"))}}\n                    >\n                      Upload QR Code\n                    </Button>\n                    </label>\n                    <br/>\n                    {\n                      this.state.buttonLoaded ? (\n                        <Button\n                      style={{ margin: \"2%\", width: \"80%\",backgroundColor:\"#02b205\"}}\n                      variant=\"contained\"\n                      color=\"primary\"\n                      startIcon={<CheckIcon />}\n                      onClick= {(event) => this.handleSubmit(event)}\n                      disabled={!this.props.uploaded || this.state.loading}>\n                      {this.state.uploadMessage}\n                      </Button>\n                      ) : (\n                      <Button\n                      style={{ margin: \"2%\", width: \"80%\"}}\n                      variant=\"contained\"\n                      color=\"primary\"\n                      startIcon={<SaveIcon />}\n                      onClick= {(event) => this.handleSubmit(event)}\n                      disabled={!this.props.uploaded || this.state.loading}>\n                      Submit\n                      </Button>\n                      )\n                    }\n                    {this.state.loading && <CircularProgress size={24} style={{color:\"#02b205\",position: 'absolute',left: '48%',marginTop:\"1%\"}} />}\n                  \n                  </form>\n                </Grid>\n\n                <Grid item xs = {6}>\n                  <h3 style={{margin: \"2%\"}}>OTP Verification</h3><br/>\n                  \n                  <form>\n                    <TextField style={{ margin: \"2%\",  width: \"80%\"}} required id=\"outlined-required\" variant=\"outlined\" value = {this.state.requestId} name=\"requestId\" label=\"Request Id\" onChange={(event) => this.handleChange(event)} \n                    disabled={this.state.loadingOtp} onClick={(event)=>{this.state.buttonLoadedOtp ? (this.setState({buttonLoadedOtp:false})) : (console.log(\"click\"))}}/>\n                    <TextField style={{ margin: \"2%\",  width: \"80%\"}} required id=\"outlined-required\" variant=\"outlined\" value = {this.state.otp} name=\"otp\" label=\"OTP\" onChange={(event) => this.handleChange(event)} \n                    disabled={this.state.loadingOtp} onClick={(event)=>{this.state.buttonLoadedOtp ? (this.setState({buttonLoadedOtp:false})) : (console.log(\"click\"))}}/>\n                    <TextField style={{ margin: \"2%\",  width: \"80%\"}} required id=\"outlined-required\" variant=\"outlined\" value = {this.state.userData} name=\"userData\" label=\"Data of user\" onChange={(event) => this.handleChange(event)} \n                    disabled={this.state.loadingOtp} onClick={(event)=>{this.state.buttonLoadedOtp ? (this.setState({buttonLoadedOtp:false})) : (console.log(\"click\"))}}/>\n                    {\n                      this.state.buttonLoadedOtp ? (\n                        this.state.verified ? (\n                          <Button\n                          variant=\"contained\"\n                          color=\"primary\"\n                          startIcon={<CheckIcon/>}\n                          onClick= {(event) => this.verifyOtp(event)}\n                          style={{margin: \"2%\", width: \"80%\",backgroundColor:\"#02b205\"}}\n                          disabled={!this.props.uploaded || this.state.loadingOtp}>\n                            {this.state.otpMessage}\n                          </Button>\n                        ) : (\n                          <Button\n                          variant=\"contained\"\n                          color=\"primary\"\n                          startIcon={<ClearIcon/>}\n                          onClick= {(event) => this.verifyOtp(event)}\n                          style={{margin: \"2%\", width: \"80%\",backgroundColor:\"#d50000\"}}\n                          disabled={!this.props.uploaded || this.state.loadingOtp}>\n                            {this.state.otpMessage}\n                          </Button>\n                        )\n                        \n                      ) : (\n                        <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        startIcon={<Icon>send</Icon>}\n                        onClick= {(event) => this.verifyOtp(event)}\n                        style={{margin: \"2%\", width: \"80%\"}}\n                        disabled={!this.props.uploaded || this.state.loadingOtp}>\n                          Verify\n                        </Button>\n                      )\n                    }\n                    {this.state.loadingOtp && <CircularProgress size={24} style={{color:\"#02b205\",position: 'absolute',left: '78%',marginTop:\"1%\"}} />}\n                    \n                  </form>\n                  <SnackBarNotification message={this.state.snackbarMessage} open={this.state.snackbarOpen} toggle = {(val) => this.setState({snackbarOpen: val})} />\n                </Grid>\n              </Grid>\n\n                ) : (\n                  <div style={{position:\"fixed\",top:\"40%\",left:\"45%\"}}>\n                    <Loader />\n                  </div>\n                )\n            }    \n            </div>\n        )\n    }\n}\n\nexport default ExistingUSer;\n","import React, { Component } from 'react';\nimport { TextField } from '@material-ui/core';\nimport { FormControl } from '@material-ui/core';\nimport { Button } from '@material-ui/core';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport Loader from './Loader.js'\nimport SaveIcon from '@material-ui/icons/Save';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport CheckIcon from '@material-ui/icons/Check';\n\n\nimport SnackBarNotification from './SnackBarNotification';\nimport { serverUrl } from '../config/config'\n\nclass UpdateUser extends Component{\n\n  constructor(props){\n    console.log(\"hi\")\n    super(props)\n    this.state = {\n      verifiedVerifiers : [],\n      verifierAddress : '',\n      loaded : false,\n      snackbarMessage: '',\n      snackbarOpen: false,\n      loading:false,\n      buttonLoaded:false\n    }\n  }\n\n  componentDidMount() {\n    this.getVerfiers();\n    // this.generateKeys();\n  }\n\n\n  handleSubmit(event) {\n    event.preventDefault()\n    this.setState({loading:true})\n    console.log(this.state.verifierAddress);\n    console.log(this.doc.files[0])\n    let data = new FormData();\n    data.append('phoneNumber', this.phoneNo.value);\n    data.append('address', this.address.value);\n    data.append('email', this.email.value);\n    data.append('name', this.name.value);\n    data.append('docType', this.docType.value);\n    data.append('verifierAddress', this.state.verifierAddress);\n    data.append('publicKey', localStorage.getItem(\"publicKeyUser\"));\n    data.append('type',\"3\");\n    data.append('userId', this.kycId.value)\n    data.append('doc', this.doc.files[0]);\n    const requestOptions = {\n      method: 'POST',\n      body: data\n    }\n    fetch(serverUrl+'uploadDocument', requestOptions)\n    .then(res => res.json())\n          .then(data  => {\n        this.setState({\n            snackbarMessage: data.message, \n            snackbarOpen: true,\n            loading:false,\n            buttonLoaded:true\n        })\n        this.phoneNo.value='';\n        this.email.value='';\n        this.name.value='';\n        this.docType.value='';\n        this.setState({verifierAddress:''});\n        this.doc.files=null;\n        this.kycId.value='';\n        this.address.value='';\n    });\n    \n  }\n\n  handleChange(event) {\n    const target = event.target\n    const value = target.value\n    const name = target.name\n\n    this.setState({\n      [name]: value\n    })\n  }\n\n  getVerfiers(){\n    this.props.kycContract.methods.getVerifiedVerifiers().call({}, (err, verifiedVerifiers) => {\n      console.log(verifiedVerifiers)\n      if (verifiedVerifiers !== null && verifiedVerifiers.length !== 0){\n      verifiedVerifiers.map((verifiedVerifier, key) => {\n        this.props.kycContract.methods.getVerifier(verifiedVerifier).call({}, (err,verifierDetails) => {\n          const verifier = {bankName: verifierDetails, address: verifiedVerifier}\n          this.setState({verifiedVerifiers:[...this.state.verifiedVerifiers,verifier]})\n          \n        });\n      })\n    }\n    this.props.loadComponent(true)\n    this.setState({loaded:true})\n  }) \n  }\n\n  render() {\n    return (\n      <div>\n      {\n        this.state.loaded === true ? (\n        <div>\n        <h3  style={{margin: \"2%\"}}>Update Deatils</h3>\n        <br/>\n        <FormControl>\n          <FormControl variant=\"outlined\" style={{ margin: \"2%\", width: \"80%\"}}\n          disabled={this.state.loading}\n          onClick={(event)=>{this.state.buttonLoaded ? (this.setState({buttonLoaded:false})) : (console.log(\"click\"))}}\n          >\n            <InputLabel htmlFor=\"filled-age-native-simple\">Select Bank</InputLabel>\n            <Select\n            native\n            value={this.state.verifierAddress}\n            onChange={(event)=>this.handleChange(event)}\n            label=\"Select Bank\"\n            inputProps={{\n              name: 'verifierAddress',\n              id: 'filled-age-native-simple',\n            }}\n            >\n            <option aria-label=\"None\" value=\"\" />\n            {\n              this.state.verifiedVerifiers.map((verifier,key) => {\n              return(\n                  <option value={verifier.address} key={key}>{verifier.bankName}</option>\n              )\n              })\n            }\n            </Select>\n          </FormControl>\n          <div>\n          <TextField\n          required\n          id=\"outlined-required\"\n          name = \"name\"\n          type = \"text\"\n          label=\"Name\"\n          inputRef = {(name) => this.name = name} \n          variant=\"outlined\"\n          style={{ margin: \"2%\", width: \"80%\" }}\n          disabled={this.state.loading}\n          onClick={(event)=>{this.state.buttonLoaded ? (this.setState({buttonLoaded:false})) : (console.log(\"click\"))}}\n          />\n          </div>\n          <div>\n          <TextField\n          required\n          id=\"outlined-required\"\n          name = \"kycId\"\n          type = \"text\"\n          label=\"KYC ID\"\n          inputRef = {(kycId) => this.kycId = kycId}   \n          variant=\"outlined\"\n          style={{ margin: \"2%\",  width: \"80%\"}}\n          disabled={this.state.loading}\n          onClick={(event)=>{this.state.buttonLoaded ? (this.setState({buttonLoaded:false})) : (console.log(\"click\"))}}\n          />\n          </div>\n          <div>\n          <TextField\n          required\n          id=\"outlined-required\"\n          name = \"email\"\n          type = \"text\"\n          label=\"Email\"\n          inputRef = {(email) => this.email = email} \n          variant=\"outlined\"\n          style={{ margin: \"2%\",  width: \"80%\"}}\n          disabled={this.state.loading}\n          onClick={(event)=>{this.state.buttonLoaded ? (this.setState({buttonLoaded:false})) : (console.log(\"click\"))}}\n          />\n          </div>\n\n          <div>\n          <TextField\n          required\n          id=\"outlined-required\"\n          name = \"phoneNo\"\n          type = \"text\"\n          label=\"Phone Number\"\n          inputRef = {(phoneNo) => this.phoneNo = phoneNo}  \n          variant=\"outlined\"\n          style={{ margin: \"2%\",  width: \"80%\"}}\n          disabled={this.state.loading}\n          onClick={(event)=>{this.state.buttonLoaded ? (this.setState({buttonLoaded:false})) : (console.log(\"click\"))}}\n          />\n          <TextField\n          required\n          id=\"outlined-required\"\n          name = \"address\"\n          type = \"text\"\n          label=\"Address\"\n          inputRef = {(address) => this.address = address}  \n          variant=\"outlined\"\n          style={{ margin: \"2%\",  width: \"80%\"}}\n          disabled={this.state.loading}\n          onClick={(event)=>{this.state.buttonLoaded ? (this.setState({buttonLoaded:false})) : (console.log(\"click\"))}}\n          />\n          <TextField\n          required\n          id=\"outlined-required\"\n          name = \"docType\"\n          type = \"text\"\n          label=\"Document Type\"\n          inputRef = {(docType) => this.docType = docType}   \n          variant=\"outlined\"\n          style={{ margin: \"2%\",  width: \"80%\"}}\n          disabled={this.state.loading}\n          onClick={(event)=>{this.state.buttonLoaded ? (this.setState({buttonLoaded:false})) : (console.log(\"click\"))}}\n          />\n          </div>\n\n          <div>\n          \n          <input style={{display: 'none'}} type=\"file\" name=\"doc\" ref = {(doc) => this.doc = doc} placeholder=\"KYC DOCUMENT\" id=\"contained-button-file\"/>\n          <label htmlFor=\"contained-button-file\" style={{ margin: \"2%\", width: \"80%\"}}>\n          <Button variant=\"contained\" color=\"primary\" component=\"span\" startIcon={<CloudUploadIcon />} style={{width: \"100%\"}}\n          disabled={this.state.loading}\n          onClick={(event)=>{this.state.buttonLoaded ? (this.setState({buttonLoaded:false})) : (console.log(\"click\"))}}>\n              Upload New Doc\n            </Button>\n          </label>\n          <br/>\n          {\n            this.state.buttonLoaded ? (\n              <Button variant=\"contained\" startIcon={<CheckIcon />} color=\"primary\" component=\"span\" onClick = {(event)=>{this.handleSubmit(event)}} style={{ margin: \"2%\", width:\"80%\",backgroundColor:\"#02b205\"}} disabled={this.state.loading}>{this.state.snackbarMessage}</Button>\n            ) : (\n              <Button variant=\"contained\" startIcon={<SaveIcon />} color=\"primary\" component=\"span\" onClick = {(event)=>{this.handleSubmit(event)}} style={{ margin: \"2%\", width:\"80%\"}} disabled={this.state.loading}>Submit</Button>\n            )\n          }\n          {this.state.loading && <CircularProgress size={24} style={{color:\"#02b205\",position: 'absolute',left: '40%',marginTop:\"3.5%\"}} />}\n          </div>\n        </FormControl>\n        </div>\n        ) : (\n          <div style={{position:\"fixed\",top:\"40%\",left:\"45%\"}}>\n            <Loader />\n          </div>\n          )\n      }\n          <SnackBarNotification open={this.state.snackbarOpen} message={this.state.snackbarMessage} toggle={(val) => this.setState({snackbarOpen: val})} />\n      </div>\n      \n    );\n  }\n}\n\nexport default UpdateUser;\n","import React, { Component } from 'react'\nimport Web3 from 'web3'\nimport { providerUrl } from '../config/config'\nimport { contractNetworkPort } from '../config/config'\nimport kyc from '../abis/Kyc'\nimport './App.css'\n\nimport Verifier from './Verifier.js'\nimport VerifierOnBoard from './VerifierOnBoard.js'\nimport Admin from './Admin.js'\nimport NewUser from './NewUser.js'\nimport ExistingUser from './ExistingUser.js'\nimport Loader from './Loader.js'\nimport UpdateUser from './updateUser.js'\n\nimport { Tab,Tabs,AppBar } from '@material-ui/core';\nimport { Container } from '@material-ui/core';\nimport Grid from '@material-ui/core/Grid';\n\nimport Fab from '@material-ui/core/Fab';\nimport VpnKeyIcon from '@material-ui/icons/VpnKey';\nimport LockIcon from '@material-ui/icons/Lock';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { serverUrl } from '../config/config'\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props)\n    if(localStorage.getItem('lastStoredKey1')!==null && localStorage.getItem('lastStoredKey2')!==null)\n    {\n      this.state = {\n        loaded : false,\n        value : 0,\n        loadedExistingUser : false,\n        loadedNewUser : false,\n        loadedAdmin : false,\n        uploaded : true,\n        accounts:[],\n        verifierLoaded:false\n      }\n    }\n    else{\n    this.state = {\n      loaded : false,\n      value : 0,\n      loadedExistingUser : false,\n      loadedNewUser : false,\n      loadedAdmin : false,\n      uploaded : false,\n      accounts:[]\n    }\n  }\n    this.handleLogin.bind(this);\n    this.handleFile.bind(this);\n  }\n\n  componentDidMount() {\n    this.loadBlockchainData();\n  }\n\n  async handleBalances(account,kycContract){\n    console.log(account)\n     console.log(kycContract)\n    const requestOptions = {\n      method: 'POST',\n      body: JSON.stringify({\n        verifierAddress: account\n      }),\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n     }\n    };\n    let response = await fetch(serverUrl+'completedKyc', requestOptions)\n      let res = await response.json();\n      console.log(res.data[0])\n      var array = res.data;\n      let j = 0;\n      let len = array.length;\n      if(array==undefined || array==null || array==\"\") len=0\n      if(len===0)\n        this.setState({verifierLoaded:true})\n      for(var i=0;i<array.length;i++){\n        var element = array[0];\n        kycContract.methods.calculateShare(element.userId).call({},(err, res) => {\n          var share = parseInt(res.toString());\n          console.log(share)\n          kycContract.methods.costShare(element.userId,element.encryptedCid,account, element.mode).send({from: this.state.accounts[0], gas: 6721975, value: share},(err)=>{\n            console.log(err)\n            if(!err){\n              console.log(\"delete\")\n              const requestOptions = {\n                method: 'POST',\n                body: JSON.stringify({\n                  _id: element._id\n                }),\n                headers: {\n                  'Accept': 'application/json',\n                  'Content-Type': 'application/json'\n                }\n              };\n              fetch(serverUrl+'completedKyc/delete', requestOptions).then(()=>{\n                j=j+1;\n                if(j===len)\n                {\n                  this.setState({verifierLoaded:true})\n                }\n              });\n            }\n          });\n        })\n      }   \n  }\n  async loadBlockchainData() {\n    const web3 = new Web3(new Web3.providers.HttpProvider(\"https://ropsten.infura.io/v3/\" + process.env.INFURA_API_KEY))\n    const kycContract = new web3.eth.Contract(kyc.abi,\"0x5C47ee98dbBEf9CbDC11392D1EdE62d768a298E5\");\n      this.setState({ kycContract })\n      console.log(kycContract)\n    var flag=false;\n    if (typeof window.ethereum !== 'undefined'|| (typeof window.web3 !== 'undefined')) {\n      window.ethereum.enable().catch((error)=>{\n        console.log(error);\n      });\n      const web32 = new Web3(window.ethereum)\n      await web32.eth.getAccounts().then((acc)=>{\n        console.log(acc);\n        this.setState({ accounts: acc })\n        console.log(acc[0])\n        console.log(kycContract)\n        this.handleBalances(acc[0],kycContract);\n        if(acc.length !== 0) flag=true\n        localStorage.setItem(\"accounts\", acc[0])\n        window.ethereum.on('accountsChanged', function(accounts){\n          if(localStorage.getItem(\"accounts\") !== accounts[0]){\n              localStorage.clear();\n              localStorage.setItem(\"accounts\", accounts[0])\n              window.location.reload()\n              console.log(accounts)\n          }\n        })\n      })\n    }\n      \n\n\n      if(flag===false){\n        console.log(\"hi\")\n        this.setState({ type: 4 })\n        localStorage.setItem(\"accounts\",\"user\")\n      }  \n      else this.state.kycContract.methods.identifyAddress(this.state.accounts[0]).call({}, (err, type) => {\n        console.log(type);\n        this.setState({ type: type.toNumber() })\n      })\n      \n      this.setState({ loaded:true })\n  }\n  \n  handleFile = (e) => {\n    const content = e.target.result;\n    var keys= JSON.parse(content)\n    var i=0;\n    for(var key in keys){\n      i+=1\n      localStorage.setItem(key,keys[key]);\n      localStorage.setItem(\"lastStoredKey\"+i,keys[key])\n    }\n    this.setState({uploaded:true},()=>{\n      window.location.reload();\n    })\n  }\n  \n  handleLogin = (file) => {\n    console.log(\"hi\")\n    let fileData = new FileReader();\n    fileData.onloadend = this.handleFile;\n    fileData.readAsText(file);\n  }\n\n  handleLogout(){\n    localStorage.clear()\n    this.setState({uploaded:false})\n  }\n\n  handleChange(e,value){\n    this.setState({\n      value:value\n    })\n  }\n\n  getComponent = () => {\n    switch(this.state.type) {\n      case 1:\n        return (<>\n        <div hidden={!this.state.loadedAdmin}>\n          <AppBar position=\"static\" elevation={0}>\n            <Tabs value={this.state.value} centered>\n              <Tab label=\"Admin\" />\n            </Tabs>\n          </AppBar>\n          <div style={{backgroundColor:\"white\", display:\"flex\", justifyContent:\"center\", height:\"100%\",minHeight:\"100vh\", width:\"100%\"}}>\n          <div role=\"tabpanel\" style={{width:\"inherit\"}}>\n            <Admin kycContract = {this.state.kycContract} account = {this.state.accounts} loadComponent={(val)=>{this.setState({loadedAdmin:val})}}/></div>\n          </div>\n        </div>\n        <div style={{position:\"fixed\",top:\"40%\",left:\"45%\"}} hidden={this.state.loadedAdmin}>\n          <Loader />\n        </div>\n        </>)\n      case 2:\n        return (\n          this.state.verifierLoaded ? (\n            <div>\n              <Verifier kycContract = {this.state.kycContract} accounts = {this.state.accounts} uploaded={this.state.uploaded}/>\n            </div>\n          ) : (\n            <div style={{position:\"fixed\",top:\"40%\",left:\"45%\"}}>\n              <Loader />\n            </div>\n          )\n        )\n      case 3:\n        return (\n          <h1 style={{textAlign:\"center\",color:\"white\",marginTop:\"10%\"}}>Please wait while the Admin verifies you :)</h1>\n        )\n      default:\n        return (<>\n          <div hidden={!(this.state.loadedExistingUser === true && this.state.loadedNewUser === true)}> \n            <AppBar position=\"static\" elevation={0}>\n              <Tabs value={this.state.value} onChange={(e,value)=>this.handleChange(e,value)} centered>\n                <Tab label=\"User\" />\n                <Tab label=\"Verifier\" disabled={this.state.accounts.length === 0}/>\n              </Tabs>\n            </AppBar>\n            <div style={{backgroundColor:\"white\",display:\"flex\",justifyContent:\"center\", height: \"100%\", minHeight:\"100vh\", width:\"100%\"}}>\n            <div\n              role=\"tabpanel\"\n              hidden={this.state.value !== 0}\n            >\n              <Grid container spacing={3} style={{margin: 4}}>\n                <Grid item xs = {4}>\n                  {\n                  this.state.uploaded === false?(\n                  <NewUser kycContract = {this.state.kycContract} account = {this.state.accounts} loadComponent={(val)=>{this.setState({loadedNewUser:val})}} uploaded={this.state.uploaded}/>\n                  ):(\n                    <UpdateUser kycContract = {this.state.kycContract} account = {this.state.accounts} loadComponent={(val)=>{this.setState({loadedNewUser:val})}} uploaded={this.state.uploaded}/>\n                  )\n                  }\n                </Grid>\n                <Grid item xs = {8}>\n                  <ExistingUser kycContract = {this.state.kycContract} account = {this.state.accounts} loadComponent={(val)=>this.setState({loadedExistingUser:val})} uploaded={this.state.uploaded}/>\n                </Grid>\n              </Grid>\n            </div>\n            <div\n              role=\"tabpanel\"\n              hidden={this.state.value !== 1}\n            >\n              <br/><div><VerifierOnBoard kycContract = {this.state.kycContract} account = {this.state.accounts} uploaded={this.state.uploaded}/></div>\n            </div>\n            </div>\n          </div>\n          \n            <div style={{position:\"fixed\",top:\"40%\",left:\"45%\"}} hidden={this.state.loadedExistingUser === true && this.state.loadedNewUser === true}>\n              <Loader />\n            </div>\n          </>\n        )\n    }\n  }\n  \n  render() {\n    return (\n      <div className='app' style={{backgroundColor:\"#2c387e\",height:\"100%\",position:\"fixed\",width:\"100%\",overflow:\"auto\"}}>\n        <Container style={{maxWidth:\"90%\"}}>\n        {\n          this.state.loaded ?\n          (\n            <>\n              <div style={{position:\"fixed\",bottom:\"4%\",right:\"5%\"}} hidden={this.state.type===0 || this.state.type===1 || this.state.type===3}>\n              {\n                this.state.uploaded === false ? (<>\n                  <input style={{display:'none'}} type=\"file\" name=\"inputFile\" accept='.txt' id=\"fab-button\" onChange={e=>this.handleLogin(e.target.files[0])}/>\n                  <label htmlFor=\"fab-button\">\n                    <Tooltip title=\"Login by uploading Kyc Key text File\" placement=\"top\" interactive>\n                      <Fab color=\"secondary\" aria-label=\"add\" component=\"span\">\n                        <VpnKeyIcon />\n                      </Fab>\n                    </Tooltip>\n                  </label>\n                  </>\n                ) : (\n                  <Tooltip title=\"Logout\" placement=\"top\" interactive>\n                    <Fab color=\"secondary\" aria-label=\"add\" onClick={(e)=>this.handleLogout(e)}>\n                      <LockIcon />\n                    </Fab>\n                  </Tooltip>\n                )\n              }  \n              </div>\n            {\n              this.getComponent()\n            }\n            </>\n          ) : \n          (\n            <div style={{position:\"fixed\",top:\"40%\",left:\"45%\"}}>\n              <Loader />\n            </div>\n          )\n        }\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.css'\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n// import { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();"],"sourceRoot":""}